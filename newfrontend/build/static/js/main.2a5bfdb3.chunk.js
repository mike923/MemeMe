(this.webpackJsonpnewfrontend=this.webpackJsonpnewfrontend||[]).push([[0],{34:function(e,t,a){},43:function(e,t,a){},63:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),c=a(18),i=a.n(c),o=a(8),l=(a(43),a(2)),d=a.n(l),u=a(7),p=a(3),j=a(4),h=a(6),b=a(5),m=a(10),O=a(9),x=a.n(O),f=a(23),v="localhost"===window.location.hostname?"http://localhost:3001":"https://aqueous-sierra-27538.herokuapp.com/",g=(a(34),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).componentDidMount=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state.id,e.prev=1,e.next=4,x.a.get("".concat(v,"/photos/").concat(t));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])}))),s.state={url:s.props.url,id:s.props.photo_id,caption:s.props.caption,delPost:s.props.delPost,captions:[]},s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.url,a=e.caption,n=e.displayname;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"meme",children:[Object(s.jsx)("img",{src:t,className:"meme",alt:a,title:n,width:"1830px",height:"1374px"}),Object(s.jsxs)("span",{className:"top p",children:[a,Object(s.jsx)("div",{})]})]})})}}]),a}(n.Component)),w=a(36),N=(a(62),{duration:5e3,transitionDuration:500,infinite:!1,indicators:!0}),y=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).renderBigPhoto=function(e){return Object(s.jsx)("div",{className:"each-fade",children:Object(s.jsx)("div",{className:"image-container",children:Object(s.jsx)(g,{url:e.picture_url,caption:e.body,displayname:e.displayname})})})},n.state={id:n.props.photo_id,url:"",commentSection:[]},n}return Object(j.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(w.Fade,Object(f.a)(Object(f.a)({},N),{},{children:this.props.commentSection.map(this.renderBigPhoto)}))})}}]),a}(n.Component),k=(a(63),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).componentDidMount=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.reloadLikes();case 2:case"end":return t.stop()}}),t)}))),e.reloadLikes=Object(u.a)(d.a.mark((function t(){var a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("".concat(v,"/likes/captions/").concat(e.props.id,"/liker/").concat(sessionStorage.getItem("id")));case 3:a=t.sent,s=a.data,console.log(s),e.setState({liked:s.data.like_value}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.setState({liked:!1});case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),e.handleClick=function(){var t=Object(u.a)(d.a.mark((function t(a){var s,n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state.liked,console.log("like button is clicked",s),console.log(e.props.id),console.log(a.target.value,"target"),t.prev=4,t.next=7,x.a.post("".concat(v,"/likes/captions/").concat(e.props.id),{like_value:s,liker_id:sessionStorage.getItem("id")});case 7:n=t.sent,r=n.data,console.log(r),e.setState({liked:!e.state.liked}),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(4);case 15:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}(),e.initialState={liked:!0,message:""},e.state=e.initialState,e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state.liked;return Object(s.jsx)("a",{onClick:this.handleClick,className:"secondary-content",style:e?{color:"red"}:{color:"#26a69a"},children:Object(s.jsx)("i",{className:"material-icons",children:"grade"})})}}]),a}(n.Component)),I=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).turnCaptions=function(e){return console.log(e),Object(s.jsxs)("li",{className:"collection-item avatar row",children:[Object(s.jsx)(o.b,{to:"/user/"+e.displayname,children:Object(s.jsx)("img",{src:e.profilepic,alt:"",className:"circle"})}),Object(s.jsx)("span",{className:"title",children:e.firstname}),Object(s.jsx)("p",{children:e.body}),Object(s.jsx)(k,{id:e.cap_id})]})},n.state={id:n.props.caption_id,commentSection:n.props.commentSection},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state.redirected_id,t=this.props.commentSection;return e?Object(s.jsx)(m.a,{to:"/user"}):Object(s.jsx)("div",{className:"container capsec",children:Object(s.jsx)("ul",{className:"collection col s12",children:t?t.map(this.turnCaptions):[]})})}}]),a}(n.Component),S=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).handleInput=function(e){var t=e.target.value;return s.setState({caption:t})},s.handleSubmit=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(s.props.id),e.prev=2,e.next=5,x.a.post("".concat(v,"/captions/photos"),{photo_id:s.props.id,commenter_id:s.state.id,body:s.state.caption});case 5:a=e.sent,n=a.data,console.log(n),s.setState({caption:""}),s.props.load(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),s.componentDidMount=Object(u.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem("id"),e.prev=1,e.next=4,x.a.get("".concat(v,"/users/").concat(t));case 4:a=e.sent,n=a.data.user,console.log(n),s.setState(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),s.initialState={caption:""},s.state=s.initialState,s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state.caption,t=this.handleInput,a=this.handleSubmit;return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("form",{className:"collection col s12",onSubmit:a,children:Object(s.jsxs)("div",{className:"ipnut-field collection-item avatar row",style:{textAlign:"left"},children:[Object(s.jsx)(o.b,{to:"/user/"+this.state.displayname,children:Object(s.jsx)("img",{src:this.state.profilepic,alt:"",className:"circle"})}),Object(s.jsx)("span",{className:"title",style:{textAlign:"left"},children:this.state.firstname}),Object(s.jsx)("input",{value:e,onChange:t,id:"icon_prefix2",placeholder:"write your caption here",className:"materialize-textarea"})]})})})})}}]),a}(n.Component),_=(a(69),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).componentDidMount=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadCaptions();case 2:case"end":return e.stop()}}),e)}))),s.loadCaptions=Object(u.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state.id,[],console.log("this.props in post.jsx",s.props),e.prev=3,e.next=6,x.a.get("".concat(v,"/captions/photos/").concat(t));case 6:a=e.sent,n=a.data.captions,console.log("this should be all captions",n),s.setState({commentSection:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])}))),s.state={id:s.props.id,loggedIn:s.props.userIdLoggedIn,postId:"",commentSection:[]},s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.loggedIn,a=e.commentSection,n=e.id;return t?Object(s.jsxs)("div",{className:"postcss",children:[Object(s.jsx)(y,{commentSection:a}),Object(s.jsx)(S,{id:n,load:this.loadCaptions,commentSection:a}),Object(s.jsx)(I,{commentSection:a})]}):Object(s.jsx)(m.a,{to:"/login"})}}]),a}(n.Component)),F=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).handleClick=function(e){var t=s.state.deleted;console.log("deleted button is clicked",t),s.setState({deleted:!t})},s.initialState={user_id:s.props.userIdLoggedIn,photo_id:s.props.photo_id,deleted:!1,message:""},s.state=s.initialState,s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.deleted,a=e.photo_id,n=e.user_id;return!1===t&&a===n?Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:this.handleClick,children:"Delete"})}):null}}]),a}(n.Component),C=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).componentDidMount=Object(u.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state.id,e.prev=1,e.next=4,x.a.get("".concat(v,"/captions/photos/").concat(t));case 4:a=e.sent,n=a.data.captions,s.setState({caption:n[0].body}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),s.setState({caption:""}),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),s.state={url:s.props.url,id:s.props.photo_id,caption:"loading...",delPost:s.props.delPost},s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state.caption,t=this.props,a=t.url,n=t.delPost,r=t.photo_id;return console.log("these are supposed to be our props",this.props),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(o.b,{className:"meme",to:"/post/"+r,children:[Object(s.jsx)("img",{src:a,className:"meme",alt:e,title:e,width:"305",height:"229"}),Object(s.jsxs)("span",{className:"top p",children:[e,Object(s.jsx)("div",{})]})]}),n?Object(s.jsx)(F,{}):"",Object(s.jsx)(I,{})]})}}]),a}(n.Component),P=(a(70),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).handleSearch=function(e){console.log(e.target.value),s.setState({searchValue:e.target.value})},s.grabImage=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(v,"/captions/photos/").concat(t));case 3:a=e.sent,s=a.data.payload,console.log(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("err",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),s.updateSearchArray=s.props.updateSearchArray,s.searchResultNetworkRequest=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=s.state.searchValue,e.prev=2,e.next=5,x.a.get("".concat(v,"/captions/search/").concat(a));case 5:return n=e.sent,r=n.data.payload,console.log("payload",r),e.next=10,s.updateSearchArray(r,!0);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("err",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),s.state={user_id:s.props.userIdLoggedIn,searchValue:"",photoFeed:s.props.photoFeed,searchBarArray:s.props.searchFeedArray},s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state.searchValue;return Object(s.jsx)("div",{className:"nav-wrapper row searchbar",children:Object(s.jsx)("form",{className:"col s8 offset-s2",onSubmit:this.searchResultNetworkRequest,children:Object(s.jsxs)("div",{className:"input-field col s12",children:[Object(s.jsx)("input",{id:"search",type:"search",className:"",value:e,onChange:this.handleSearch,required:!0}),Object(s.jsx)("label",{className:"label-icon",htmlFor:"search",children:Object(s.jsx)("i",{className:"material-icons",children:"search"})}),Object(s.jsx)("i",{className:"material-icons",children:"close"})]})})})}}]),a}(n.Component)),D=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).turnPhoto=function(e){var t=n.props.delPost;return Object(s.jsx)("div",{className:"col s12 m6 l4",children:Object(s.jsx)("div",{className:"card",children:Object(s.jsx)("div",{className:"card-image waves-effect waves-block waves-light",children:Object(s.jsx)(C,{url:e.picture_url,photo_id:e.photo_id,poster_id:e.poster_id,date_posted:e.date_posted,delPost:t})})})})},n.linkToPhoto=function(e){console.log(e.currentTarget)},n.state={photos:n.props.photos,delPost:n.props.delPost},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.photos,t=this.turnPhoto;return console.log("props",this.props),console.log("photos",e),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"section",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col s12",children:Object(s.jsx)("div",{className:"section",onClick:this.linkToPhoto,children:e.map(t)})})})})})}}]),a}(n.Component),L=(a(71),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(v,"/photos/all"));case 2:t=e.sent,a=t.data.payload,console.log(a),n.setState({photoFeedArray:a});case 6:case"end":return e.stop()}}),e)}))),n.updateSearchArray=function(){var e=Object(u.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("searchFeedArr",t),e.next=3,n.setState({searchFeedArray:t,searched:a});case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.turnPhoto=function(e){return Object(s.jsx)(C,{url:e.picture_url,photo_id:e.photo_id,poster_id:e.poster_id,date_posted:e.date_posted})},n.initialState={profilePicAlt:"filler",photoFeedArray:[],loggedIn:n.props.userIdLoggedIn,searchFeedArray:[],searched:!1},n.state=n.initialState,n}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=(e.profilePicAlt,e.photoFeedArray),a=e.loggedIn,n=e.searchFeedArray,r=e.searched,c=(this.turnPhoto,this.updateSearchArray);return a?Object(s.jsxs)("div",{children:[Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"searchBar",children:Object(s.jsx)(P,{updateSearchArray:c})}),Object(s.jsx)("br",{}),Object(s.jsx)("h3",{children:"Feed"}),Object(s.jsx)(D,{photos:r?n:t})]}):Object(s.jsx)(m.a,{to:"/login"})}}]),a}(n.Component)),A=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)("h1",{children:"404 Error"})})}}]),a}(n.Component),M=function(e){return(0,e.changeID)(0),Object(s.jsx)(m.a,{to:"/login"})},q=a(17),U=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).changeID=s.props.changeID,s.submitForm=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,r,c,i,o,l,u,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=s.state,n=a.bio,r=a.email,c=a.firstname,i=a.displayname,o=a.user_password,l={bio:n,email:r,firstname:c,displayname:i,user_password:o},e.prev=3,e.next=6,x.a.post("http://localhost:3001/users/signup",l);case 6:u=e.sent,p=u.data,console.log(p),console.log("user id",p.id),s.changeID(p.id),s.setState({redirect:!0}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),s.handleInput=function(e){var t=e.target,a=t.name,n=t.value;return s.setState(Object(q.a)({},a,n))},s.initialState={bio:"",email:"",firstname:"",displayname:"",user_password:"",redirect:!1,loggedIn:s.props.userIdLoggedIn},s.state=s.initialState,s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.bio,a=e.email,n=e.firstname,r=e.displayname,c=e.user_password,i=(e.redirect,e.loggedIn),l=this.submitForm,d=this.handleInput;return i?Object(s.jsx)(m.a,{to:"/feed"}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("form",{className:"col s12",id:"reg-form",onSubmit:l,children:[Object(s.jsx)("h2",{children:"Sign-Up for Meme Me"}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"input-field col s6",children:[Object(s.jsx)("input",{type:"text",id:"displayname",name:"displayname",value:r,onChange:d,className:"validate",required:!0}),Object(s.jsx)("label",{htmlFor:"displayname",children:"Username "})]}),Object(s.jsxs)("div",{className:"input-field col s6",children:[Object(s.jsx)("input",{type:"text",id:"firstname",name:"firstname",value:n,onChange:d,className:"validate",required:!0}),Object(s.jsx)("label",{htmlFor:"firstname",children:"Full Name "})]})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"input-field col s6",children:[Object(s.jsx)("input",{type:"email",id:"email",name:"email",value:a,onChange:d,className:"validate",required:!0}),Object(s.jsx)("label",{htmlFor:"email",children:"Email "})]}),Object(s.jsxs)("div",{className:"input-field col s6",children:[Object(s.jsx)("input",{type:"password",id:"user_password",name:"user_password",value:c,onChange:d,className:"validate",required:!0}),Object(s.jsx)("label",{htmlFor:"user_password",children:"Password "})]})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"input-field col s12",children:[Object(s.jsx)("textarea",{type:"text",id:"bio",name:"bio",value:t,onChange:d,className:"materialize-textarea",required:!0}),Object(s.jsx)("label",{htmlFor:"bio",children:"Tell Us About Yourself "})]})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"input-field col s6",children:Object(s.jsx)(o.b,{className:"buttonlink",to:"/login",style:{color:"white"},children:Object(s.jsxs)("button",{className:"btn btn-large btn-register waves-effect waves-light",type:"button",name:"action",children:["Already have an account?",Object(s.jsx)("br",{}),"Log In here."]})})}),Object(s.jsx)("div",{className:"input-field col s6",children:Object(s.jsxs)("button",{className:"btn btn-large btn-register waves-effect waves-light",type:"submit",name:"action",children:["Register",Object(s.jsx)("i",{className:"material-icons right",children:"done"})]})})]})]})})})})}}]),a}(n.Component),E=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("nav",{className:"NavBar",children:[Object(s.jsx)("br",{}),Object(s.jsxs)(o.b,{to:"/feed",children:[" ",Object(s.jsx)("i",{className:"large material-icons",children:"explore"})," "]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(o.b,{to:"/user",children:Object(s.jsx)("i",{class:"large material-icons",children:" face "})}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)(o.b,{to:"/LogOut",children:[" ",Object(s.jsx)("i",{class:"large material-icons",children:"exit_to_app"})]})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]})},R=(a(72),a(20)),B=(a(73),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).changeID=s.props.changeID,s.submitForm=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=s.state,n=a.email,r=a.user_password,e.prev=2,e.next=5,x.a.post("".concat(v,"/users/specific/active"),{email:n,user_password:r});case 5:c=e.sent,i=c.data.user,console.log(i),i.id?(s.setState({error:"valid"}),s.setState({redirect:!0}),s.changeID(i.id)):(R.a.error("Wrong Username or Password.",{autoClose:2e3}),s.setState({error:"invalid"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0,"axios not working"),s.setState({error:!0});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),s.handleInput=function(e){var t=e.target,a=t.name,n=t.value;return s.setState(Object(q.a)({},a,n))},s.state={email:"",user_password:"",redirect:!1,LoggedIn:!1,error:!1},s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.user_password,n=e.redirect,r=e.error,c=this.submitForm,i=this.handleInput;this.notify;return R.a.configure({autoClose:8e3}),n?Object(s.jsx)(m.a,{to:"/feed"}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("form",{className:"col s12",id:"reg-form",onSubmit:c,children:[Object(s.jsx)("h2",{children:"Welcome Meme Me"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"input-field col s6 offset-s3",children:[Object(s.jsx)("input",{className:"validate",type:"email",id:"email",name:"email",value:t,onChange:i,style:{validate:"".concat(r)},required:!0}),Object(s.jsx)("label",{htmlFor:"email",children:"Email"})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"input-field col s6 offset-s3",children:[Object(s.jsx)("input",{className:"validate",type:"password",id:"user_password",name:"user_password",value:a,onChange:i,style:{validate:"".concat(r)},required:!0}),Object(s.jsx)("label",{htmlFor:"user_password",children:"Password"})]})}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"input-field col s4 offset-s2",children:Object(s.jsx)(o.b,{className:"buttonlink",to:"/signup",style:{color:"white"},children:Object(s.jsxs)("button",{className:"btn btn-large btn-register waves-effect waves-light",type:"button",name:"action",children:["New to Meme Me?",Object(s.jsx)("br",{}),"Sign Up here."]})})}),Object(s.jsx)("div",{className:"input-field col s4",children:Object(s.jsxs)("button",{className:"btn btn-large btn-register waves-effect waves-light",type:"submit",name:"action",onClick:this.notify,children:["Log-In",Object(s.jsx)("i",{className:"material-icons right",children:"done"})]})})]})]})})})})}}]),a}(n.Component)),T=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).handleFileInput=function(e){console.log("file changed"),console.dir(e.target),console.log(e.target.files[0]),s.setState({imageFile:e.target.files[0]})},s.handleSubmit=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=s.state.user_id,(n=new FormData).append("imgURL",s.state.imageFile),console.log(n),e.prev=5,e.next=8,x.a.post("".concat(v,"/photos/upload/").concat(a),n);case 8:r=e.sent,console.log(r.data),s.setState({imgURL:r.data}),R.a.success("Photo Uploaded",{autoClose:2e3}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.log("err",e.t0),R.a.error("Error uploading Photo");case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),s.state={user_id:s.props.userIdLoggedIn,imageFile:null,imgURL:""},s}return Object(j.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"uploader container",children:Object(s.jsx)("form",{onSubmit:this.handleSubmit,className:"col s12",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"file-field input-field inline s6",children:[Object(s.jsx)("div",{className:"file-path-wrapper",children:Object(s.jsx)("input",{className:"file-path validate",type:"text"})}),Object(s.jsxs)("div",{className:"btn",children:[Object(s.jsx)("span",{children:" File "}),Object(s.jsx)("input",{type:"file",onChange:this.handleFileInput})]}),Object(s.jsxs)("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",children:["Submit",Object(s.jsx)("i",{className:"material-icons right",children:"send"})]})]})})})})}}]),a}(r.a.Component),z=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).componentDidMount=Object(u.a)(d.a.mark((function e(){var t,a,n,r,c,i,o,l,u,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state,a=t.user.id,n=t.username,console.log("componentDidMount",n,a),r=n&&"<empty string>"!==n?"name/"+n:a,e.prev=3,e.next=6,x.a.get("http://localhost:3001/users/".concat(r));case 6:return c=e.sent,i=c.data.user,console.log(i),i?s.setState({user:i}):s.setState({username:"",user:{id:sessionStorage.getItem("id")}}),e.next=12,s.getPhotos(i.id);case 12:e.next=23;break;case 14:return e.prev=14,e.t0=e.catch(3),e.next=18,x.a.get("http://localhost:3001/users/".concat(a));case 18:o=e.sent,l=o.data.user,console.log("there was an error retieving user profile",e.t0,a,sessionStorage.getItem("id")),s.setState({user:l}),s.getPhotos(l.id);case 23:return e.prev=23,e.next=26,x.a.get("http://localhost:3001/photos/user/".concat(a));case 26:u=e.sent,p=u.data.payload,console.log(p),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(23),console.log("Im not sure whats going on here");case 34:case"end":return e.stop()}}),e,null,[[3,14],[23,31]])}))),s.componentDidUpdate=function(){var e=Object(u.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.getPhotos=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("http://localhost:3001/photos/user/".concat(t));case 3:a=e.sent,n=a.data.payload,s.setState({photos:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("There was an error retieving user photos");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),s.initialState={user:{id:sessionStorage.getItem("id"),bio:"this is my bio its not much but it will be soon.",firstname:"firstname",displayname:"displayname",profilepic:"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png"},profilePicAlt:"profile picture",photos:[],loggedIn:s.props.userIdLoggedIn,location:s.props.location,username:s.props.username},s.state=s.initialState,s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.user,a=t.bio,n=t.firstname,r=t.profilepic,c=t.displayname,i=e.photos,l=e.loggedIn,d=e.profilePicAlt;e.location;return l?Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons",rel:"stylesheet"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"col s12 m7",children:[Object(s.jsxs)("h2",{className:"header",children:[" ",c]}),Object(s.jsxs)("div",{className:"card horizontal",children:[Object(s.jsx)("div",{className:"card-image",children:Object(s.jsx)("img",{src:r,alt:d,height:"200px"})}),Object(s.jsxs)("div",{className:"card-stacked",children:[Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("h5",{children:n}),Object(s.jsxs)("p",{children:[" ",a]})]}),Object(s.jsxs)("div",{className:"card-action",children:[Object(s.jsx)(o.b,{to:"/EditProfile",children:" Edit Profile "}),Object(s.jsx)(o.b,{to:"/photos/upload",children:" Upload Photo "})]})]})]})]}),Object(s.jsx)("h3",{children:"My photos go here"}),Object(s.jsx)(D,{photos:i,delPost:!0})]}):Object(s.jsx)(m.a,{to:"/login"})}}]),a}(n.Component),V=Object(m.g)(z),W=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).componentDidMount=Object(u.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(v,"/users/").concat(s.state.id));case 2:t=e.sent,a=t.data.user,s.setState(a);case 5:case"end":return e.stop()}}),e)}))),s.handleSubmit=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,r,c,i,o,l,u,p,j,h,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=s.state,n=a.id,r=a.bio,c=a.email,i=a.firstname,o=a.displayname,l=a.user_password,u={bio:r,email:c,firstname:i,displayname:o,user_password:l},(p=new FormData).append("imgURL",s.state.imageFile),e.prev=5,e.next=8,x.a.patch("".concat(v,"/users/").concat(n),u);case 8:j=e.sent,j.data,s.setState({redirect:!0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log("user patch error:",e.t0);case 16:return e.prev=16,e.next=19,x.a.patch("".concat(v,"/users/upload/").concat(n),p);case 19:h=e.sent,b=h.data.payload,s.setState({profilepic:b}),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(16),console.log("profile pic change error:",e.t1);case 27:case"end":return e.stop()}}),e,null,[[5,13],[16,24]])})));return function(t){return e.apply(this,arguments)}}(),s.handleFileInput=function(e){var t=e.target.files;return s.setState({imageFile:t[0]})},s.handleInput=function(e){var t=e.target,a=t.name,n=t.value;return s.setState(Object(q.a)({},a,n))},s.initialState={id:s.props.userIdLoggedIn,bio:"this is my bio its not much but it will be soon.",email:"email@domain.org",firstname:"firstname",displayname:"displayname",user_password:"Password",profilepic:"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png"},s.state=s.initialState,s}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.bio,a=e.email,n=e.redirect,r=e.firstname,c=e.profilepic,i=e.displayname,o=e.user_password,l=this.handleInput,d=this.handleSubmit;this.handleFileInput;return n?Object(s.jsx)(m.a,{to:"/user"}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("img",{src:c,className:"responsive-image",alt:"profile picture",height:"150px"}),Object(s.jsxs)("form",{className:"col s12 offset-s2",id:"reg-form",onSubmit:d,children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"input-field col s8",children:[Object(s.jsx)("input",{type:"text",id:"displayname",name:"displayname",value:i,onChange:l,autoFocus:"true",className:"validate",required:!0}),Object(s.jsx)("label",{htmlFor:"displayname",children:"Username "})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"input-field col s8",children:[Object(s.jsx)("input",{type:"text",id:"firstname",name:"firstname",value:r,onChange:l,autoFocus:"true",className:"validate",required:!0}),Object(s.jsx)("label",{htmlFor:"firstname",children:"Full Name "})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"input-field col s8",children:[Object(s.jsx)("input",{type:"email",id:"email",name:"email",value:a,onChange:l,autoFocus:"true",className:"validate",required:!0}),Object(s.jsx)("label",{htmlFor:"email",children:"Email "})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"input-field col s8",children:[Object(s.jsx)("input",{type:"password",id:"user_password",name:"user_password",value:o,onChange:l,autoFocus:"true",className:"validate",required:!0}),Object(s.jsx)("label",{htmlFor:"user_password",children:"Password "})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"input-field col s8",children:[Object(s.jsx)("textarea",{type:"text",id:"bio",name:"bio",value:t,onChange:l,autoFocus:"true",className:"materialize-textarea"}),Object(s.jsx)("label",{htmlFor:"bio",children:"Tell Us About Yourself "})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"file-field input-field col s8",children:[Object(s.jsxs)("div",{className:"btn",children:[Object(s.jsx)("span",{children:" Profile Picture "}),Object(s.jsx)("input",{type:"file",onChange:this.handleFileInput})]}),Object(s.jsx)("div",{className:"file-path-wrapper",children:Object(s.jsx)("input",{className:"file-path validate",placeholder:"profile_picture.jpeg",type:"text"})})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"input-field col s8",children:Object(s.jsxs)("button",{className:"btn btn-large btn-register waves-effect waves-light",type:"submit",name:"action",children:["Save",Object(s.jsx)("i",{className:"material-icons right",children:"done"})]})})})]})]})})})}}]),a}(n.Component),J=Object(m.g)(W),Y=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).changeID=function(e){sessionStorage.setItem("id",e),s.setState({userIdLoggedIn:e})},s.state={userIdLoggedIn:0},s}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sessionStorage.getItem("id");case 2:if(null!==(t=e.sent)){e.next=7;break}return console.log("id is null"),sessionStorage.setItem("id",0),e.abrupt("return");case 7:this.setState({userIdLoggedIn:parseInt(t)});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.userIdLoggedIn,t=this.changeID;return Object(s.jsxs)("div",{className:"App",children:[e?Object(s.jsx)(E,{userIdLoggedIn:e}):"",e?Object(s.jsxs)(m.d,{children:[Object(s.jsx)(m.b,{path:"/post/:id",render:function(t){return Object(s.jsx)(_,{id:t.match.params.id,userIdLoggedIn:e})}}),Object(s.jsx)(m.b,{path:"/EditProfile",render:function(){return Object(s.jsx)(J,{userIdLoggedIn:e})}}),Object(s.jsx)(m.b,{path:"/photocomp",render:function(){return Object(s.jsx)(C,{userIdLoggedIn:e})}}),Object(s.jsx)(m.b,{path:"/user/:username",render:function(t){return Object(s.jsx)(V,{username:t.match.params.username,userIdLoggedIn:e})}}),Object(s.jsx)(m.b,{path:"/user",render:function(t){return Object(s.jsx)(V,{userIdLoggedIn:e})}}),Object(s.jsx)(m.b,{path:"/feed",render:function(){return Object(s.jsx)(L,{userIdLoggedIn:e})}}),Object(s.jsx)(m.b,{path:"/photos/upload",render:function(){return Object(s.jsx)(T,{userIdLoggedIn:e})}}),Object(s.jsx)(m.b,{path:"/LogOut",render:function(){return Object(s.jsx)(M,{userIdLoggedIn:e,changeID:t})}}),Object(s.jsx)(m.b,{path:"*",render:function(){return Object(s.jsx)(A,{})}})]}):Object(s.jsxs)(m.d,{children:[Object(s.jsx)(m.b,{path:"/signup",render:function(){return Object(s.jsx)(U,{changeID:t})}}),Object(s.jsx)(m.b,{path:"/login",render:function(){return Object(s.jsx)(B,{changeID:t})}}),Object(s.jsx)(m.b,{path:"*",render:function(){return Object(s.jsx)(B,{changeID:t})}})]})]})}}]),a}(n.Component);a(74),n.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(o.a,{children:Object(s.jsx)(Y,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[75,1,2]]]);
//# sourceMappingURL=main.2a5bfdb3.chunk.js.map